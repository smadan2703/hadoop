---

#- name : "Download Java JDK RPM for Hadoop & Hbase"
#  get_url:
#    url: {{ java_version }}
#    dest: /tmp/java.rpm
#    mode: 0755

- name: "Check Java is installed or not"
  shell: command -v java
  register: javaout
  ignore_errors: True
  tags: install

- name: "Install Java"
  yum:
    name: "{{ java_artifact }}"
    state: present
  when: javaout > 0 && artifact
  tags: install, artifact


- name: "Install java"
  yum:
    name: "{{ java_binary }}"
    state: present
    when: javaout > 0 && not artifact
    tags: install